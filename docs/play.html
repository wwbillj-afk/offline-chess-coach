<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Offline Chess Coach</title>

<link rel="stylesheet" href="https://unpkg.com/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css"/>

<style>
body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: radial-gradient(circle at top, #0b1d33, #020617);
  color: #e5e7eb;
}

header {
  text-align: center;
  font-size: 28px;
  font-weight: 700;
  padding: 24px 12px;
}

.panel {
  max-width: 420px;
  margin: 0 auto;
  padding: 16px;
}

.coach-card {
  display: flex;
  gap: 14px;
  align-items: center;
  background: rgba(255,255,255,0.06);
  border-radius: 14px;
  padding: 14px;
  margin-bottom: 20px;
}

.coach-card img {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #22c55e;
}

.coach-text {
  font-size: 14px;
}

label {
  font-size: 14px;
}

input[type="range"] {
  width: 100%;
  margin: 10px 0 6px;
}

.level {
  font-size: 13px;
  opacity: 0.8;
  margin-bottom: 12px;
}

button {
  width: 100%;
  padding: 14px;
  font-size: 16px;
  font-weight: 600;
  border-radius: 999px;
  border: none;
  cursor: pointer;
}

.start {
  background: #22c55e;
  color: #022c22;
}

#board {
  width: 100%;
  max-width: 420px;
  margin: 24px auto;
  display: none;
}
</style>
</head>

<body>

<header>Offline Chess Coach</header>

<div class="panel">

  <div class="coach-card">
    <img src="./file_0000000db887f6dde52fee7800f79.png" alt="Coach">
    <div class="coach-text">
      <strong>Coach</strong><br>
      Welcome. Pick a level and press <b>Start game</b>.
    </div>
  </div>

  <label>Difficulty â€” <span id="lvl">5</span></label>
  <input id="difficulty" type="range" min="1" max="10" value="5">
  <div class="level" id="lvlText">Intermediate</div>

  <button class="start" id="startBtn">Start game</button>

</div>

<div id="board"></div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.13.4/chess.min.js"></script>
<script src="https://unpkg.com/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>

<script>
const levels = [
  "Beginner","Beginner","Novice","Novice",
  "Intermediate","Intermediate",
  "Advanced","Advanced","Master","Master"
];

const slider = document.getElementById("difficulty");
const lvl = document.getElementById("lvl");
const lvlText = document.getElementById("lvlText");

slider.oninput = () => {
  lvl.textContent = slider.value;
  lvlText.textContent = levels[slider.value - 1];
};

let board, game;

document.getElementById("startBtn").onclick = () => {
  game = new Chess();

  document.querySelector(".panel").style.display = "none";
  const boardDiv = document.getElementById("board");
  boardDiv.style.display = "block";

  board = Chessboard("board", {
    position: "start",
    draggable: true,
    pieceTheme: "pieces/{piece}.svg",
    onDrop: (s, t) => {
      const move = game.move({from: s, to: t, promotion: "q"});
      if (move === null) return "snapback";
    }
  });
};
</script>

</body>
  </html>
