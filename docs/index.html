<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Offline Chess Coach</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body {
    margin: 0;
    background: #0f172a;
    color: #e5e7eb;
    font-family: system-ui, sans-serif;
    display: flex;
    flex-direction: column;
  }

  /* BOARD LAYOUT (MOBILE SAFE) */
  #board-wrapper {
    width: 100%;
    max-width: 360px;
    margin: 16px auto;
    padding-top: 100%;
    position: relative;
  }

  #board {
    position: absolute;
    inset: 0;
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    border: 3px solid #334155;
    border-radius: 8px;
    overflow: hidden;
  }

  .square {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.2rem;
    user-select: none;
  }

  /* CLASSIC BOARD COLORS (CHESS.COM STYLE) */
  .light { background: #f0d9b5; }
  .dark  { background: #b58863; }

  /* PIECE STYLING */
  .white {
    color: #ffffff;
    text-shadow:
      0 0 2px #000,
      0 0 6px rgba(255,255,255,0.6);
  }

  .black {
    color: #111111;
    text-shadow:
      0 0 2px #fff,
      0 0 4px rgba(0,0,0,0.8);
  }

  #coach {
    padding: 12px;
    background: #020617;
    border-top: 1px solid #1e293b;
    min-height: 60px;
  }

  #controls {
    display: flex;
    gap: 8px;
    padding: 12px;
    background: #020617;
  }

  button {
    flex: 1;
    padding: 12px;
    background: #1e293b;
    color: #e5e7eb;
    border: none;
    border-radius: 8px;
    font-size: 0.9rem;
  }
</style>
</head>

<body>

<div id="board-wrapper">
  <div id="board"></div>
</div>

<div id="coach">
  <strong>Coach:</strong> Welcome. Make your first move.
</div>

<div id="controls">
  <button disabled>üéô Push to Talk</button>
  <button disabled>‚ùì Why?</button>
</div>

<script>
  const boardEl = document.getElementById("board");
  const coachEl = document.getElementById("coach");

  const pieces = {
    a1:"‚ôñ", b1:"‚ôò", c1:"‚ôó", d1:"‚ôï", e1:"‚ôî", f1:"‚ôó", g1:"‚ôò", h1:"‚ôñ",
    a2:"‚ôô", b2:"‚ôô", c2:"‚ôô", d2:"‚ôô", e2:"‚ôô", f2:"‚ôô", g2:"‚ôô", h2:"‚ôô",
    a7:"‚ôü", b7:"‚ôü", c7:"‚ôü", d7:"‚ôü", e7:"‚ôü", f7:"‚ôü", g7:"‚ôü", h7:"‚ôü",
    a8:"‚ôú", b8:"‚ôû", c8:"‚ôù", d8:"‚ôõ", e8:"‚ôö", f8:"‚ôù", g8:"‚ôû", h8:"‚ôú"
  };

  let selected = null;

  function drawBoard() {
    boardEl.innerHTML = "";
    for (let r = 8; r >= 1; r--) {
      for (let c = 0; c < 8; c++) {
        const square = "abcdefgh"[c] + r;
        const div = document.createElement("div");

        const isDark = (r + c) % 2 === 1;
        div.className = "square " + (isDark ? "dark" : "light");

        if (pieces[square]) {
          const span = document.createElement("span");
          span.textContent = pieces[square];
          span.className =
            r <= 2 ? "white" :
            r >= 7 ? "black" :
            (pieces[square] <= "‚ôô" ? "white" : "black");

          div.appendChild(span);
        }

        div.onclick = () => tap(square);
        boardEl.appendChild(div);
      }
    }
  }

  function tap(square) {
    if (selected && pieces[selected]) {
      pieces[square] = pieces[selected];
      delete pieces[selected];
      selected = null;
      coachEl.innerHTML = "<strong>Coach:</strong> Move played.";
      drawBoard();
    } else if (pieces[square]) {
      selected = square;
    }
  }

  drawBoard();
</script>

</body>
  </html>
